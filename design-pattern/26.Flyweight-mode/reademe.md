#### 享元模式


    运用 共享技术有效地支持大量细粒度的对象。


##### 内部状态和外部状体

    享元模式　可以避免大量非常相似的类的开销。　在程序设计中，有时需要生成大量细粒度的类实例来表示数据。如果能发现这些实例除了几个参数外基本上都是相同的，有时候就能够大幅度的减少需要实例化的类的数量。如果能把那些参数移到类实例的外面，在方法调用时将他们传递进来，就可以通过共享大幅度地减少单个实例的数目。 

    也就是说　享元模式　Flyweight执行时所需要的状态是有内部的也可能有外部的，内部状态存储于　ConcreteFlyweight对象之中的，而外部对象则应该由客户端对象存储或计算，当调用flyweight对象的操作时，将该状态传递给它。



##### 什么时候　使用　享元模式

    如果一个应用程序使用了　大量的对象，而大量的这些对象造成了很大的存储开销时，就应该考略使用；
    还有就是对象的大多数状态可以外部状态，如果我们删除对象的外部状态，那么可以用相对较少的共享对象取代很多组对象，此时可以考虑使用享元模式

#### 缺点：
    当我们把　外部数据　传入ConcreteFlyweight 中时，我们要处理好　　外部数据和　当前　上下文的关系。　使得内部逻辑变得复杂了

    使用享元模式　需要维护一个记录了系统已有的所有享元的列表，而这本身需要消耗资源，另外享元模式使得系统更加复杂。为了使对象可以共享，需要将一些状态外部化，这使得程序的逻辑复杂化。

    因此，应当在有足够多的对象实例可供共享时才值得使用享元模式。

    
