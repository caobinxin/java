#### 合成/聚合复用原则

##### 背景

    对象的继承关系是在编译时就已经定义好了，所以无法在运行时改变从父类继承的实现。子类的实现与它的父类有非常紧密的依赖关系，以至于父类实现中的任何变化必然会导致子类发生变化。当你需要复用子类时，如果继承下来的实现不适合解决新的问题，则父类必须重写或被其他更适合的类替换。这种依赖关系限制了灵活性并最终限制了复用性。

    这样不断的去继承，如果不断地增加新品牌或新的功能，类会越来越多。

    在面向对象设计中，我们还有一个很重要的设计原则，那就是 合成/聚合 复用原则。 优先使用对象合成/聚类 ，而不是类继承。

##### 合成/聚类复用原则

    尽量使用合成/聚类，尽量不要使用类继承

    合成和聚类 都是关联的特殊种类。
    
    聚合表示一种弱的拥有关系，体现的是A对象可以包含B对象，但B对象不是A对象的一部分。
    
    合成则是一种强的拥有关系，体现了严格的部分和整体的关系，部分和整体的生命周期一样。
    合成举例： 大雁和两个翅膀，翅膀和大雁是部分和整体的关系，并且他们的生命周期是相同的，于是大雁和翅膀就是合成关系。

    而大雁是群居动物，所以每只大雁都是属于一个 大雁群的，所以大雁和大雁群是聚合关系。


    合成聚合复用原则的好处是： 优先使用对象的合成、聚合将有助于保持每个类被封装，并被集中在单个任务上。这样类和类继承层次会保持较小的规模，并且不太可能增长为不可控制的庞然大物。


##### 名言：
    继承本身就是一种强 耦合的结构。 父类变，子类就会变。